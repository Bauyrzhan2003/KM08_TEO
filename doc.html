<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>EasyCook ‚Äî –†–µ—Ü–µ–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã</title>
<style>
  body {
    font-family: 'Poppins', sans-serif;
    margin: 0;
    background: #fff8e7;
  }
  header {
    background: #ff7f11;
    color: #fff;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 12px 18px;
  }
  header h2 { margin: 0; font-size: 20px; }
  header button {
    background: #fff;
    border: none;
    border-radius: 5px;
    padding: 5px 10px;
    cursor: pointer;
  }
  main { padding: 20px; text-align: center; }

  input, select, button {
    padding: 10px;
    font-size: 16px;
    margin: 5px;
    border-radius: 6px;
  }
  input, select {
    border: 2px solid #ffa94d;
    width: 80%;
    max-width: 400px;
  }
  button {
    background: #ff7f11;
    color: black;
    border: none;
    cursor: pointer;
  }

  .auth-box, .main-page, .profile-page {
    display: none;
    text-align: center;
  }
  .recipe {
    background: #fff;
    padding: 15px;
    margin: 15px auto;
    width: 90%;
    max-width: 500px;
    border-radius: 10px;
    box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    text-align: left;
  }
  .recipe h3 { color: #ff7f11; margin-top: 0; }

  /* –ü—Ä–æ—Ñ–∏–ª—å –∫–∞—Ä—Ç–æ—á–∫–∞ —Å—Ç–∏–ª—ñ */
  .profile-card {
    background: #fff;
    border-radius: 12px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.1);
    padding: 20px;
    max-width: 400px;
    margin: 0 auto;
    text-align: left;
  }
  .profile-card h3 {
    color: #ff7f11;
    text-align: center;
  }
  .profile-card p {
    margin: 8px 0;
    font-size: 15px;
  }

  @media (max-width:600px) {
    header h2 { font-size: 18px; }
    input { width: 90%; }
  }
</style>
</head>
<body>

<header>
  <h2>ü•ò EasyCook</h2>
  <div id="navBtns">
    <button id="toProfile" onclick="showProfile()">–ü—Ä–æ—Ñ–∏–ª—å</button>
    <button id="logoutBtn" onclick="logout()">–®—ã“ì—É</button>
  </div>
</header>

<main>

  <!-- LOGIN / REGISTER -->
  <div class="auth-box" id="authBox">
    <h2 id="authTitle">–ö—ñ—Ä—É</h2>
    <div id="extraFields" style="display:none;">
      <input type="text" id="firstName" placeholder="–ê—Ç—ã"><br>
      <input type="text" id="lastName" placeholder="–¢–µ–≥—ñ"><br>
      <input type="text" id="middleName" placeholder="”ò–∫–µ—Å—ñ–Ω—ñ“£ –∞—Ç—ã"><br>
      <label>–¢—É“ì–∞–Ω –∫“Ø–Ω—ñ:</label><br>
      <input type="date" id="birthDate"><br>
      <label>–ñ—ã–Ω—ã—Å—ã:</label><br>
      <select id="gender">
        <option value="">–¢–∞“£–¥–∞“£—ã–∑</option>
        <option value="–ï—Ä">–ï—Ä</option>
        <option value="”ò–π–µ–ª">”ò–π–µ–ª</option>
      </select><br>
      <label>–ñ–∞–Ω“±—è –∂–∞“ì–¥–∞–π—ã:</label><br>
      <select id="married">
        <option value="–ñ–æ“õ">–ñ–æ“õ</option>
        <option value="–ò”ô">–ò”ô</option>
      </select><br>
      <input type="number" id="children" placeholder="–ë–∞–ª–∞–ª–∞—Ä —Å–∞–Ω—ã (–µ–≥–µ—Ä –±–∞—Ä –±–æ–ª—Å–∞)" min="0"><br>
    </div>

    <input type="email" id="authEmail" placeholder="Email"><br>
    <input type="password" id="authPass" placeholder="“ö“±–ø–∏—è —Å”©–∑"><br>
    <button onclick="authAction()">–ö—ñ—Ä—É</button>
    <p id="switchText">–¢—ñ—Ä–∫–µ–ª–º–µ–≥–µ–Ω—Å—ñ–∑ –±–µ?
      <a href="#" onclick="switchAuth(true)">–¢—ñ—Ä–∫–µ–ª—É</a>
    </p>
  </div>

  <!-- MAIN PAGE -->
  <div class="main-page" id="mainPage">
    <h2>“ö–æ–ª—ã“£–¥–∞ –±–∞—Ä ”©–Ω—ñ–º–¥–µ—Ä–¥—ñ –∂–∞–∑ üëá</h2>
    <input id="ingredients" type="text" placeholder="–ú—ã—Å–∞–ª—ã: –∂“±–º—ã—Ä—Ç“õ–∞, “±–Ω, —Å“Ø—Ç" />
    <br>
    <button onclick="findRecipe()">–†–µ—Ü–µ–ø—Ç —Ç–∞–±—É</button>
    <div id="result"></div>
  </div>

  <!-- PROFILE PAGE -->
  <div class="profile-page" id="profilePage">
    <h2>üë§ –ú–µ–Ω—ñ“£ –ø—Ä–æ—Ñ–∏–ª—ñ–º</h2>
    <div class="profile-card" id="profileCard"></div>
    <button onclick="showMain()">–ë–∞—Å—Ç—ã –±–µ—Ç–∫–µ</button>
  </div>

</main>

<script>
// ==== MOCK –†–ï–¶–ï–ü–¢ –î–ï–†–ï–ö–¢–ï–†–Ü ====
const recipes = [
  { name: "–ë–ª–∏–Ω—á–∏–∫—Ç–µ—Ä", ingredients: ["–∂“±–º—ã—Ä—Ç“õ–∞","“±–Ω","—Å“Ø—Ç"],
    steps: ["–ë–∞—Ä–ª—ã“õ ”©–Ω—ñ–º–¥–µ—Ä–¥—ñ –∞—Ä–∞–ª–∞—Å—Ç—ã—Ä.","“ö—É—ã—Ä—É —Ç–∞–±–∞—Å—ã–Ω–¥–∞ –µ–∫—ñ –∂–∞“ì—ã–Ω –ø—ñ—Å—ñ—Ä.","–ë–∞–ª –Ω–µ–º–µ—Å–µ —Ç–æ—Å–∞–ø–ø–µ–Ω –±—ñ—Ä–≥–µ –∂–µ."] },
  { name: "–ñ“±–º—ã—Ä—Ç“õ–∞ –æ–º–ª–µ—Ç—ñ", ingredients: ["–∂“±–º—ã—Ä—Ç“õ–∞","—Å“Ø—Ç","—Ç“±–∑"],
    steps: ["–ñ“±–º—ã—Ä—Ç“õ–∞–Ω—ã —Å“Ø—Ç –∂”ô–Ω–µ —Ç“±–∑–±–µ–Ω –∞—Ä–∞–ª–∞—Å—Ç—ã—Ä.","–¢–∞–±–∞–¥–∞ –±–∞—è—É –æ—Ç—Ç–∞ “õ—É—ã—Ä—ã–ø –ø—ñ—Å—ñ—Ä."] },
  { name: "–ú–∞–∫–∞—Ä–æ–Ω —ñ—Ä—ñ–º—à—ñ–∫–ø–µ–Ω", ingredients: ["–º–∞–∫–∞—Ä–æ–Ω","—ñ—Ä—ñ–º—à—ñ–∫","—Å–∞—Ä—ã –º–∞–π"],
    steps: ["–ú–∞–∫–∞—Ä–æ–Ω–¥—ã –ø—ñ—Å—ñ—Ä—ñ–ø, —Å“Ø–∑.","–°–∞—Ä—ã –º–∞–π –º–µ–Ω —ñ—Ä—ñ–º—à—ñ–∫ “õ–æ—Å.","–ñ–∞“õ—Å—ã–ª–∞–ø –∞—Ä–∞–ª–∞—Å—Ç—ã—Ä."] },
  { name: "–°–º—É–∑–∏ (–±–∞–Ω–∞–Ω + —Å“Ø—Ç)", ingredients: ["–±–∞–Ω–∞–Ω","—Å“Ø—Ç"],
    steps: ["–ë–∞–Ω–∞–Ω –º–µ–Ω —Å“Ø—Ç—Ç—ñ –±–ª–µ–Ω–¥–µ—Ä–≥–µ —Å–∞–ª.","–ë—ñ—Ä–∫–µ–ª–∫—ñ –±–æ–ª“ì–∞–Ω—à–∞ –∞—Ä–∞–ª–∞—Å—Ç—ã—Ä."] },
  { name: "–°—ç–Ω–¥–≤–∏—á", ingredients: ["–Ω–∞–Ω","—ñ—Ä—ñ–º—à—ñ–∫","–µ—Ç"],
    steps: ["–ù–∞–Ω–Ω—ã“£ –∞—Ä–∞—Å—ã–Ω–∞ —ñ—Ä—ñ–º—à—ñ–∫ –ø–µ–Ω –µ—Ç “õ–æ–π.","–¢–æ—Å—Ç–µ—Ä–¥–µ –Ω–µ–º–µ—Å–µ —Ç–∞–±–∞–¥–∞ “õ—ã–∑–¥—ã—Ä."] }
];

// ==== DOM —ç–ª–µ–º–µ–Ω—Ç—Ç–µ—Ä ====
const authBox = document.getElementById("authBox");
const mainPage = document.getElementById("mainPage");
const profilePage = document.getElementById("profilePage");
const authTitle = document.getElementById("authTitle");
const switchText = document.getElementById("switchText");
const extraFields = document.getElementById("extraFields");
const profileCard = document.getElementById("profileCard");

let isRegister = false;

// ==== –ë–ï–¢–¢–ï–†–î–Ü –ê–£–´–°–¢–´–†–£ ====
function showMain() {
  authBox.style.display = "none";
  profilePage.style.display = "none";
  mainPage.style.display = "block";
}
function showProfile() {
  const user = JSON.parse(localStorage.getItem("user"));
  if (!user) return showAuth();
  profileCard.innerHTML = `
    <h3>${user.lastName} ${user.firstName} ${user.middleName || ""}</h3>
    <p><b>üìß Email:</b> ${user.email}</p>
    <p><b>üéÇ –¢—É“ì–∞–Ω –∫“Ø–Ω—ñ:</b> ${user.birthDate || "‚Äî"}</p>
    <p><b>üöª –ñ—ã–Ω—ã—Å—ã:</b> ${user.gender || "‚Äî"}</p>
    <p><b>üíç –ñ–∞–Ω“±—è –∂–∞“ì–¥–∞–π—ã:</b> ${user.married || "‚Äî"}</p>
    <p><b>üë∂ –ë–∞–ª–∞–ª–∞—Ä —Å–∞–Ω—ã:</b> ${user.children || 0}</p>
  `;
  mainPage.style.display = "none";
  authBox.style.display = "none";
  profilePage.style.display = "block";
}
function showAuth() {
  authBox.style.display = "block";
  mainPage.style.display = "none";
  profilePage.style.display = "none";
}

// ==== –¢–Ü–†–ö–ï–õ–£ / –ö–Ü–†–£ ====
function switchAuth(reg) {
  isRegister = reg;
  if (reg) {
    authTitle.textContent = "–¢—ñ—Ä–∫–µ–ª—É";
    extraFields.style.display = "block";
    switchText.innerHTML = '–ê–∫–∫–∞—É–Ω—Ç—ã“£ –±–∞—Ä –º–∞? <a href="#" onclick="switchAuth(false)">–ö—ñ—Ä—É</a>';
  } else {
    authTitle.textContent = "–ö—ñ—Ä—É";
    extraFields.style.display = "none";
    switchText.innerHTML = '–¢—ñ—Ä–∫–µ–ª–º–µ–≥–µ–Ω—Å—ñ–∑ –±–µ? <a href="#" onclick="switchAuth(true)">–¢—ñ—Ä–∫–µ–ª—É</a>';
  }
}

function authAction() {
  const email = document.getElementById("authEmail").value.trim();
  const pass = document.getElementById("authPass").value.trim();
  if (!email || !pass) return alert("Email –º–µ–Ω “õ“±–ø–∏—è —Å”©–∑–¥—ñ —Ç–æ–ª—Ç—ã—Ä—ã“£—ã–∑!");

  if (isRegister) {
    const firstName = document.getElementById("firstName").value.trim();
    const lastName = document.getElementById("lastName").value.trim();
    const middleName = document.getElementById("middleName").value.trim();
    const birthDate = document.getElementById("birthDate").value;
    const gender = document.getElementById("gender").value;
    const married = document.getElementById("married").value;
    const children = document.getElementById("children").value || 0;

    if (!firstName || !lastName || !birthDate || !gender)
      return alert("–ë–∞—Ä–ª—ã“õ –º–∞“£—ã–∑–¥—ã ”©—Ä—ñ—Å—Ç–µ—Ä–¥—ñ —Ç–æ–ª—Ç—ã—Ä—ã“£—ã–∑!");

    const user = { email, pass, firstName, lastName, middleName, birthDate, gender, married, children };
    localStorage.setItem("user", JSON.stringify(user));
    alert("–¢—ñ—Ä–∫–µ–ª—É —Å”ô—Ç—Ç—ñ ”©—Ç—Ç—ñ!");
    showMain();
  } else {
    const user = JSON.parse(localStorage.getItem("user"));
    if (!user) return alert("–ê–∫–∫–∞—É–Ω—Ç —Ç–∞–±—ã–ª–º–∞–¥—ã. –¢—ñ—Ä–∫–µ–ª—ñ“£—ñ–∑.");
    if (user.email === email && user.pass === pass) {
      alert("–°”ô—Ç—Ç—ñ –∫—ñ—Ä–¥—ñ“£—ñ–∑!");
      showMain();
    } else {
      alert("“ö–∞—Ç–µ email –Ω–µ–º–µ—Å–µ “õ“±–ø–∏—è —Å”©–∑!");
    }
  }
}

// ==== –®–´“í–£ ====
function logout() {
  localStorage.removeItem("user");
  alert("–°—ñ–∑ –∂“Ø–π–µ–¥–µ–Ω —à—ã“õ—Ç—ã“£—ã–∑!");
  showAuth();
}

// ==== –†–ï–¶–ï–ü–¢ –¢–ê–ë–£ ====
function findRecipe() {
  const input = document.getElementById("ingredients").value.toLowerCase();
  const userIngredients = input.split(",").map(i => i.trim());
  const found = recipes.filter(r =>
    r.ingredients.some(ing => userIngredients.includes(ing))
  );
  const resultDiv = document.getElementById("result");
  resultDiv.innerHTML = "";

  if (found.length === 0) {
    resultDiv.innerHTML = "<p>üò¢ –°”ô–π–∫–µ—Å —Ä–µ—Ü–µ–ø—Ç —Ç–∞–±—ã–ª–º–∞–¥—ã.</p>";
    return;
  }

  found.forEach(r => {
    const div = document.createElement("div");
    div.className = "recipe";
    div.innerHTML = `
      <h3>${r.name}</h3>
      <strong>“ö–∞–∂–µ—Ç—Ç—ñ ”©–Ω—ñ–º–¥–µ—Ä:</strong>
      <ul>${r.ingredients.map(i => `<li>${i}</li>`).join("")}</ul>
      <strong>–î–∞–π—ã–Ω–¥–∞—É —Ç”ô—Å—ñ–ª—ñ:</strong>
      <ul>${r.steps.map(s => `<li>${s}</li>`).join("")}</ul>
    `;
    resultDiv.appendChild(div);
  });
}

// ==== –ë–ê–°–¢–ê–ü“ö–´ –ë–ï–¢ ====
window.onload = () => {
  const user = JSON.parse(localStorage.getItem("user"));
  if (user) showMain();
  else showAuth();
};
</script>

</body>
</html>
