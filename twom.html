<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8">
<title>Frontend RK ‚Äì Auto Score</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  margin: 0;
  font-family: Arial, sans-serif;
  background: #020617;
  color: white;
}

h3 { margin: 5px 0; }

.main {
  display: flex;
  flex-wrap: wrap;
  height: 75vh;
}

.sample, .editor {
  flex: 1 1 500px;
  padding: 10px;
  box-sizing: border-box;
}

iframe {
  width: 100%;
  height: 100%;
  border: 2px solid white;
  background: white;
}

textarea {
  width: 100%;
  height: 100%;
  background: #0f172a;
  color: #22c55e;
  font-size: 14px;
  border: none;
  outline: none;
  resize: none;
}

.bottom {
  padding: 10px;
  border-top: 1px solid #1e293b;
  font-size: 15px;
  margin-top: 35px;
}

.timer {
  float: right;
  font-weight: bold;
}

.score {
  font-weight: bold;
  color: #22c55e;
}
</style>
</head>

<body oncontextmenu="return false">

<div class="main">

  <!-- –î–ê–ô–´–ù “Æ–õ–ì–Ü -->
  <div class="sample">
    <h3>–î–∞–π—ã–Ω “Ø–ª–≥—ñ (–∫”©—à—ñ—Ä—É)</h3>
    <iframe srcdoc="
    <style>
  body { margin: 0; font-family: Arial; }
  header { background: blue; padding: 22px; color: white; }
  nav a { 
    margin-right: 15px; 
    color: white; 
    text-decoration: none; 
    transition: color 0.3s, transform 0.2s; /* –∞–Ω–∏–º–∞—Ü–∏—è “Ø—à—ñ–Ω */
  }
  nav a:hover {
    color: #22c55e; /* hover –±–æ–ª“ì–∞–Ω–¥–∞ —Ç“Ø—Å ”©–∑–≥–µ—Ä–µ–¥—ñ */
    transform: scale(1.1); /* —Å”ô–ª “Ø–ª–∫–µ–π—Ç—É */
  }
  section { padding: 223px; text-align: center; }
  button { 
    padding: 10px 20px; 
    background: #22c55e; 
    border: none; 
    color: white;
    cursor: pointer;
    transition: background 0.3s, transform 0.2s; /* –∞–Ω–∏–º–∞—Ü–∏—è “Ø—à—ñ–Ω */
  }
  button:hover {
    background: #16a34a; /* hover –±–æ–ª“ì–∞–Ω–¥–∞ —Ç“Ø—Å ”©–∑–≥–µ—Ä–µ–¥—ñ */
    transform: scale(1.05); /* —Å”ô–ª “Ø–ª–∫–µ–π—Ç—É */
  }
  button:active {
    transform: scale(0.95); /* –±–∞—Å—ã–ª“ì–∞–Ω–¥–∞–π —ç—Ñ—Ñ–µ–∫—Ç */
  }
  footer { background: blue; color: white; text-align: center; padding: 10px; }
  @media(max-width:600px){section{padding:20px}}
</style>

<header>
  <nav>
    <a>Home</a><a>About</a><a>Contact</a>
  </nav>
</header>
<section>
  <h1>IT Company</h1>
  <p>AGKSIT Session</p>
  <button>Get Started</button>
</section>
<footer>¬© 2025</footer>

    "></iframe>
  </div>

  <!-- –°–¢–£–î–ï–ù–¢ –ö–û–î–´ -->
  <div class="editor">
    <h3>–°–µ–Ω—ñ“£ –∫–æ–¥—ã“£</h3>
    <textarea id="code" placeholder="HTML + CSS –æ—Å—ã –∂–µ—Ä–≥–µ –∂–∞–∑—ã–ª–∞–¥—ã"></textarea>
  </div>

</div>

<div class="bottom">
  ‚è± –£–∞“õ—ã—Ç: <span class="timer" id="timer">25:00</span><br>
  üéØ –ë–∞–ª–ª: <span class="score" id="score">0 / 90</span><br>
</div>

<script>
document.onkeydown = e => (e.ctrlKey || e.keyCode === 123) ? false : true;

const textarea = document.getElementById("code");
const scoreEl = document.getElementById("score");

let finished = false;

// üîç –ê–í–¢–û –¢–ï–ö–°–ï–†–£ (REAL TIME)
textarea.addEventListener("input", () => {
  if (finished) return;

  let code = textarea.value.toLowerCase();
  let score = 0;

  try {
    // ‚ùå –ï–≥–µ—Ä JS –∂–∞–∑—ã–ø, “õ–∞—Ç–µ –±–æ–ª—Å–∞
    new Function(code.includes("<script") ? code : "");

    if (code.includes("<html>")) score += 1;
    if (code.includes("</html>")) score += 1;
    if (code.includes("<head>")) score += 1;
    if (code.includes("</head>")) score += 1;
    if (code.includes("<header>")) score += 2;
    if (code.includes("</header>")) score += 2;
    
if (code.includes("<style>")) score += 1; if (code.includes("</style>")) score += 1;
if (code.includes("<body>")) score += 2; if (code.includes("</body>")) score += 2;
if (code.includes("<nav>")) score += 2; if (code.includes("</nav>")) score += 2;
if (code.includes("<a>")) score += 1; if (code.includes("</a>")) score += 1;
if (code.includes("<section>")) score += 4; if (code.includes("</section>")) score += 4;
if (code.includes("<h1>")) score += 1; if (code.includes("</h1>")) score += 1;
if (code.includes("<p>")) score += 1; if (code.includes("</p>")) score += 1;
if (code.includes("<button>")) score += 6; if (code.includes("</button>")) score += 6;
if (code.includes("<footer>")) score += 5; if (code.includes("</footer>")) score += 5;

if (code.includes("button:hover")) score += 4;
if (code.includes("Home")) score += 2;
if (code.includes("About")) score += 2;
if (code.includes("Contact")) score += 2;
if (code.includes("2025")) score += 2;
if (code.includes("background")) score += 2;
if (code.includes("padding")) score += 2;
if (code.includes("margin{")) score += 3;
if (code.includes("border{")) score += 2;
if (code.includes("background: blue;")) score += 5;
if (code.includes("header{")) score += 2;
if (code.includes("button:active")) score += 4;
if (code.includes("footer{")) score += 2;
if (code.includes("color")) score += 2;
if (code.includes("padding: 22px;")) score += 2;
if (code.includes("padding: 223px;")) score += 3;
if (code.includes("padding: 10px;")) score += 2;


  } catch (e) {
    score = 0; // ‚ö†Ô∏è “ö–ê–¢–ï ‚Üí 0
  }

  scoreEl.innerText = `${score} / 90`;
});

// ‚è± –¢–ê–ô–ú–ï–†
let time = 25 * 60;
const timer = setInterval(() => {
  let m = Math.floor(time / 60);
  let s = time % 60;
  document.getElementById("timer").innerText =
    `${m}:${s < 10 ? "0" : ""}${s}`;
  time--;

  if (time < 0) {
    clearInterval(timer);
    finished = true;
    textarea.disabled = true;
    alert("–£–∞“õ—ã—Ç –±—ñ—Ç—Ç—ñ! –ë–∞–ª–ª –±–µ–∫—ñ—Ç—ñ–ª–¥—ñ.");
  }
}, 1000);
</script>

</body>
</html>
